
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="description" content ="CS 61A: Structure and Interpretation of Computer Programs" />
    <meta name="keywords" content ="CS 61A, Computer Science, CS, 61A, Programming, John DeNero, Berkeley, EECS" />
    <meta name="author" content ="John DeNero, Hany Farid" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-throttle-debounce/1.1/jquery.ba-throttle-debounce.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="../../assets/js/hl.js"></script>
    <script src="../../assets/js/toggledarkmode.js"></script>
    <script>
        // we aren't registering builtins since
        //      (1) they don't render differently in the current CSS from other names
        //      (2) it's a mess to list all of them. You can extract from the site but that takes effort
        // if (1) ceases to be true, (2) might be worth the effort. For now, we're leaving as is
        hljsRegister({
            'keyword': "define if cond and or let begin lambda mu quote delay cons-stream set! quasiquote unquote unquote-splicing define-macro"
        });
        hljs.initHighlightingOnLoad();
    </script>
    <script src="../../assets/js/dark-mode.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inconsolata|Roboto:300,400,500|Work+Sans:400,700">
    <link rel="stylesheet" href="../../assets/css/style.css">
    <link rel="stylesheet" href="../../assets/css/mono-blue.css">
    <link rel="icon" href="../../assets/images/favicon.ico">

    

<link rel="stylesheet" type="text/css" href="../../assets/css/disc.css">


    <title>
Discussion 12 | CS 61A Spring 2023
</title>
  </head>

  <body id="index" class="home">
    <nav class="navbar navbar-default navbar-static-top">
      <div class="container noselect">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-section">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="../../index.html">
            <img style="max-width:60px; margin-top: -20px;" class="logo" src="../../assets/images/logo.png"/>
          </a>
        </div>

        <div class="collapse navbar-collapse" id="navbar-collapse-section">
          <ul class="nav navbar-nav navbar-right">
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="index.html#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Calendar
                <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li><a href="../../weekly.html">Weekly Schedule</a></li>
                <li><a href="../../office-hours.html">Office Hours</a></li>
              </ul>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="index.html#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Links
                <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li><a href="https://sections.cs61a.org">Sections Tool</a></li>
                <li><a href="https://oh.cs61a.org">Office Hours Queue</a></li>
                <li><a href="https://go.cs61a.org/regrade-request">Request a Regrade</a></li>
              </ul>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="index.html#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Staff
                <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li><a href="../../instructor.html">Instructors</a></li>
                <li><a href="../../TAs.html">TAs</a></li>
                <li><a href="../../tutors.html">Tutors</a></li>
                <li><a href="../../academic-interns.html">Academic Interns</a></li>
              </ul>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="index.html#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Resources
                <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li><a href="https://go.cs61a.org/extensions">Request an Extension</a></li>
                <li><a href="https://go.cs61a.org/accommodation-appts">Book an Accommodations Appointment</a></li>
                <li><a href="../../resources.1.html">Topical Resources + Past Exams</a></li>
                <li><a href="https://tutor.cs61a.org/">PythonTutor</a></li>
                <li><a href="https://code.cs61a.org/">Code</a></li>
                <li><a href="https://edstem.org/us/courses/34756/discussion/" target="_blank">Ed</a></li>
                <li><a href="../../articles/campus-res/index.html">Department/Campus Resources</a></li>
              </ul>
            </li>
            <li><a href="../../articles/about.html">Syllabus</a></li>
            <li><a href="../../contact.1.html">Contact</a></li>
            <li>
              <label class="switch">
                <input type="checkbox" id="toggle-mode-cb">
                <span class="slider round"></span>
              </label>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <main id="content" class="container">
      
<div class='row'>
  <div class='col-md-9'>
    <header>
      <h1>
        
Discussion 12: Interpreters, SQL

        
        
        <ul class="inline-block list-inline">
          <li><a href="disc12.pdf" class="label label-outline">disc12.pdf</a></li>
        </ul>
        
        
      </h1>
    </header>
    

<div class="alert storable-login-status"></div>

This is an online worksheet that you can work on during discussions.
Your work is not graded and you do not need to submit anything.


    



<h1 id="interpreters">Interpreters</h1>


<blockquote><p>Recall the calculator interpreter you implemented in Lab 12. The following is an extension of that prompt.</p></blockquote>


<h3 id="q1-counting-eval-and-apply">Q1: Counting Eval and Apply</h3>


<p>How many calls to <code>calc_eval</code> and <code>calc_apply</code> would it
take to evaluate each of the following Calculator expressions?</p>

</p>

<p><code>scm&gt; (+ 1 2)</code></p>

<p>For this particular prompt please list out the inputs to <code>calc_eval</code> and <code>calc_apply</code>.

            <label class="sr-only" for="counting-eval-apply-1-input">Your Answer:</label>
            <input class="form-control storable" id="counting-eval-apply-1-input" type="text">
            <div class="storable-status"></div>
        </p>

<div class="sol-highlight">
4 calls to eval: 1 for the entire expression, and then 1 each for the operator and each operand.

<p>1 call to apply the addition operator.</p>

<p>Explicity listing out the inputs we have the following for <code>calc_eval</code>: , '+', 1, 2.
<code>calc_apply</code> is given '+' for fn and (1 2) for args.</p>

<p>A note is that (+ 1 2) corresponds to the following Pair, Pair('+', Pair(1, Pair(2, nil))) and (1 2) corresponds to the Pair, Pair(1, Pair(2, nil)).
</div></p>

<p><code>scm&gt; (+ 2 4 6 8)</code></p>


            <label class="sr-only" for="counting-eval-apply-2-input">Your Answer:</label>
            <input class="form-control storable" id="counting-eval-apply-2-input" type="text">
            <div class="storable-status"></div>
        

<div class="sol-highlight">
6 calls to eval: 1 for the entire expression, and then 1 each for the operator
and each operand.

<p>1 call to apply the addition operator.
</div></p>

<p><code>scm&gt; (+ 2 (* 4 (&#x2d; 6 8)))</code></p>


            <label class="sr-only" for="counting-eval-apply-3-input">Your Answer:</label>
            <input class="form-control storable" id="counting-eval-apply-3-input" type="text">
            <div class="storable-status"></div>
        

<div class="sol-highlight">
10 calls to eval: 1 for the whole expression, then 1 for each of the operators
and operands. When we encounter another call expression, we have to evaluate
the operators and operands inside as well.

<p>3 calls to apply the function to the arguments for each call expression.
</div>
<code>scm&gt; (and 1 (+ 1 0) 0)</code></p>


            <label class="sr-only" for="counting-eval-apply-4-input">Your Answer:</label>
            <input class="form-control storable" id="counting-eval-apply-4-input" type="text">
            <div class="storable-status"></div>
        

<div class="sol-highlight">
7 calls to eval: 1 for the whole expression, 1 for the first argument, 1 for <code>(+ 1 0)</code>, 1 for the <code>+</code> operator, 2 for the operands to plus, and 1 for the final 0. Notice that <code>and</code> is a special form so we do not run <code>calc_eval</code> on it.

<p>1 calls to apply to evaluate the <code>+</code> expression.</p>

</div>
<code>scm&gt; (and (+ 1 0) (&lt; 1 0) (/ 1 0))</code>


            <label class="sr-only" for="counting-eval-apply-4-input">Your Answer:</label>
            <input class="form-control storable" id="counting-eval-apply-4-input" type="text">
            <div class="storable-status"></div>
        

<div class="sol-highlight">
9 calls to eval: 1 for the whole expression, 1 for <code>(+ 1 0)</code>, 1 for the <code>+</code> operator, 2 for the operands to plus, and then 4 total for <code>(&lt; 1 0)</code> (following the same breakdown as <code>(+ 1 0)</code>). Note that <code>and</code> is a special form so we do not run <code>calc_eval</code> on it, and also note that since <code>and</code> looks for the first false-y value (which in Scheme is just <code>#f</code>), it will return the <code>#f</code> without doing anything for the <code>(/1 0)</code>.

<p>2 calls to apply, 1 for <code>+</code> and 1 for <code>&lt;</code>.</p>

<p><a href="https://youtu.be/ZHPdJzZ3g14">Video Walkthrough</a>
</div></p>

<h3 id="q2-from-pair-to-calculator">Q2: From Pair to Calculator</h3>


<p>Write out the Calculator expression with proper syntax that
corresponds to the following <code>Pair</code> constructor calls.</p>



<pre><code>&gt;&gt;&gt; Pair(&#x27;+&#x27;, Pair(1, Pair(2, Pair(3, Pair(4, nil)))))</code></pre>




            <label class="sr-only" for="scheme-calculator-exprs1-input">Your Answer:</label>
            <input class="form-control storable" id="scheme-calculator-exprs1-input" type="text">
            <div class="storable-status"></div>
        

<div class="sol-highlight">

<p><code>&gt; (+ 1 2 3 4)</code></p>

</div>

<pre><code>&gt;&gt;&gt; Pair(&#x27;+&#x27;, Pair(1, Pair(Pair(&#x27;*&#x27;, Pair(2, Pair(3, nil))), nil)))</code></pre>




            <label class="sr-only" for="scheme-calculator-exprs2-input">Your Answer:</label>
            <input class="form-control storable" id="scheme-calculator-exprs2-input" type="text">
            <div class="storable-status"></div>
        
<div class="sol-highlight">

<p><code>&gt; (+ 1 (* 2 3))</code></p>

</div>

<pre><code>&gt;&gt;&gt; Pair(&#x27;and&#x27;, Pair(Pair(&#x27;&lt;&#x27;, Pair(1, Pair(0, nil))), Pair(Pair(&#x27;/&#x27;, Pair(1, Pair(0, nil))), nil)))</code></pre>




            <label class="sr-only" for="scheme-calculator-exprs2-input">Your Answer:</label>
            <input class="form-control storable" id="scheme-calculator-exprs2-input" type="text">
            <div class="storable-status"></div>
        
<div class="sol-highlight">

<p><code>&gt; (and (&lt; 1 0) (/ 1 0))</code></p>

</div>

<div class="sol-highlight">
<a href="https://goo.gl/6VKGQX">Box and pointers solutions</a>
<a href="https://youtu.be/zIvYrA76GRo?t=1m59s">Video walkthrough</a>
</div>

<div class="page-break"></div>


<h1 id="sql">SQL</h1>


<p>SQL is an example of a declarative programming language. Statements do not describe computations directly, but instead describe the desired result of some computation. It is the role of the query interpreter of the database system to plan and
perform a computational process to produce such a result.</p>

<blockquote><p>For this discussion, you can test out your code at <a href="https://sql.cs61a.org">sql.cs61a.org</a>. The <strong>records</strong> table
should already be loaded in.
We can use a <strong>SELECT</strong> statement to create tables. The following statement creates a
table with a single row, with columns named “first” and “last”:</p></blockquote>

<pre><code>sqlite&gt; SELECT &quot;Ben&quot; AS first, &quot;Bitdiddle&quot; AS last;
Ben|Bitdiddle</code></pre>



<p>Given two tables with the same number of columns, we can combine their rows into
a larger table with UNION:</p>

<pre><code>sqlite&gt; SELECT &quot;Ben&quot; AS first, &quot;Bitdiddle&quot; AS last UNION
...&gt; SELECT &quot;Louis&quot;, &quot;Reasoner&quot;;
Ben|Bitdiddle
Louis|Reasoner</code></pre>



<p>We can SELECT specific values from an existing table using a FROM clause. This
query creates a table with two columns, with a row for each row in the records
table:</p>

<pre><code>sqlite&gt; SELECT name, division FROM records;
Alyssa P Hacker|Computer
...
Robert Cratchet|Accounting</code></pre>



<p>The special syntax SELECT * will select all columns from a table. It’s an easy way
to print the contents of a table.</p>

<pre><code>sqlite&gt; SELECT * FROM records;
Alyssa P Hacker|Computer|Programmer|40000|Ben Bitdiddle
...
Robert Cratchet|Accounting|Scrivener|18000|Eben Scrooge</code></pre>



<p>We can choose which columns to show in the first part of the SELECT, we can filter
out rows using a WHERE clause, and sort the resulting rows with an ORDER BY clause.
In general the syntax is:</p>

<pre><code>SELECT [columns] FROM [tables]
WHERE [condition] ORDER BY [criteria];</code></pre>



<p>For instance, the following statement lists all information about employees with the
“Programmer” title.</p>

<pre><code>sqlite&gt; SELECT * FROM records WHERE title = &quot;Programmer&quot;;
Alyssa P Hacker|Computer|Programmer|40000|Ben Bitdiddle
Cy D Fect|Computer|Programmer|35000|Ben Bitdiddle</code></pre>



<p>The following statement lists the names and salaries of each employee under the
accounting division, sorted in descending order by their salaries.</p>

<pre><code>sqlite&gt; SELECT name, salary FROM records
...&gt; WHERE division = &quot;Accounting&quot; ORDER BY salary desc;
Eben Scrooge|75000
Robert Cratchet|18000</code></pre>



<p>Note that all valid SQL statements must be terminated by a semicolon (;). Additionally, you can split up your statement over many lines and add as much whitespace as you want, much like Scheme. But keep in mind that having consistent
indentation and line breaking does make your code a lot more readable to others
(and your future self)!</p>


<h2 id="sql-practice">SQL Practice</h2>

<p>The next part of the discussion will refer to the table <strong>records</strong>, which stores information about the employees at a small company.
<p style="text-align: center;"><strong>records</strong></p></p>



        <div class="table-responsive">
          <table class="table table-bordered">
          
  <tr>
    <th><strong>name</strong></th>
    <th><strong>division</strong></th>
    <th><strong>title</strong></th>
    <th><strong>salary</strong></th>
    <th><strong>supervisor</strong></th>
  </tr>
  <tr>
    <td>Ben Bitdiddle</td>
    <td>Computer</td>
    <td>Wizard</td>
    <td>60000</td>
    <td>Oliver Warbucks</td>
  </tr>
  <tr>
    <td>Alyssa P Hacker</td>
    <td>Computer</td>
    <td>Programmer</td>
    <td>40000</td>
    <td>Ben Bitdiddle</td>
  </tr>
  <tr>
    <td>Cy D Fect</td>
    <td>Computer</td>
    <td>Programmer</td>
    <td>35000</td>
    <td>Ben Bitdiddle</td>
  </tr>
  <tr>
    <td>Lem E Tweakit</td>
    <td>Computer</td>
    <td>Technician</td>
    <td>25000</td>
    <td>Ben Bitdiddle</td>
  </tr>
  <tr>
    <td>Louis Reasoner</td>
    <td>Computer</td>
    <td>Programmer Trainee</td>
    <td>30000</td>
    <td>Alyssa P Hacker</td>
  </tr>
  <tr>
    <td>Oliver Warbucks</td>
    <td>Administration</td>
    <td>Big Wheel</td>
    <td>150000</td>
    <td>Oliver Warbucks</td>
  </tr>
  <tr>
    <td>Eben Scrooge</td>
    <td>Accounting</td>
    <td>Chief Accountant</td>
    <td>75000</td>
    <td>Oliver Warbucks</td>
  </tr>
  <tr>
    <td>Lana Lambda</td>
    <td>Administration</td>
    <td>Executive Director</td>
    <td>610000</td>
    <td>Lana Lambda</td>
  </tr>

          </table>
        </div>
        



<h3 id="q3-oliver-employees">Q3: Oliver Employees</h3>


<p>Write a query that outputs the names of employees that Oliver Warbucks directly
supervises.</p>


            
            <b>Your Answer</b>
            
            <div class="monaco-storable" id="question-1 lang=sql-input" style="height:90px;"></div>
            <a href="javascript:void" id="modal-link-question-1 lang=sql-input">Run in 61A Code</a>
            <div class="modal fade" id="modal-question-1 lang=sql-input" tabindex="-1" role="dialog">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content" style="padding-bottom: -5px">
                    <iframe
                        id="code-iframe-question-1 lang=sql-input"
                        width="100%"
                        height="700px"
                        style="border: none; display:block;"
                    ></iframe>
                    </div>
                </div>
            </div>
            <div class="storable-status"></div>
            <script>
                $(() => activateEditor('SELECT &quot;YOUR CODE HERE&quot;\n\n\n', "scheme", "question-1 lang=sql-input"));
            </script>
        
            <div class="sol-highlight">
                <b>Solution</b>
                
<pre><code>SELECT name FROM records WHERE supervisor = &quot;Oliver Warbucks&quot;;
</code></pre>


            </div>
        

<h3 id="q4-self-supervisor">Q4: Self Supervisor</h3>


<p>Write a query that outputs all information about employees that supervise themselves.</p>


            
            <b>Your Answer</b>
            
            <div class="monaco-storable" id="question-2 lang=sql-input" style="height:90px;"></div>
            <a href="javascript:void" id="modal-link-question-2 lang=sql-input">Run in 61A Code</a>
            <div class="modal fade" id="modal-question-2 lang=sql-input" tabindex="-1" role="dialog">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content" style="padding-bottom: -5px">
                    <iframe
                        id="code-iframe-question-2 lang=sql-input"
                        width="100%"
                        height="700px"
                        style="border: none; display:block;"
                    ></iframe>
                    </div>
                </div>
            </div>
            <div class="storable-status"></div>
            <script>
                $(() => activateEditor('SELECT &quot;YOUR CODE HERE&quot;\n\n\n', "scheme", "question-2 lang=sql-input"));
            </script>
        
            <div class="sol-highlight">
                <b>Solution</b>
                
<pre><code>SELECT * FROM records WHERE name = supervisor;
</code></pre>


            </div>
        

<h3 id="q5-rich-employees">Q5: Rich Employees</h3>


<p>Write a query that outputs the names of all employees with salary
greater than 50,000 in alphabetical order.</p>


            
            <b>Your Answer</b>
            
            <div class="monaco-storable" id="question-3 lang=sql-input" style="height:90px;"></div>
            <a href="javascript:void" id="modal-link-question-3 lang=sql-input">Run in 61A Code</a>
            <div class="modal fade" id="modal-question-3 lang=sql-input" tabindex="-1" role="dialog">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content" style="padding-bottom: -5px">
                    <iframe
                        id="code-iframe-question-3 lang=sql-input"
                        width="100%"
                        height="700px"
                        style="border: none; display:block;"
                    ></iframe>
                    </div>
                </div>
            </div>
            <div class="storable-status"></div>
            <script>
                $(() => activateEditor('SELECT &quot;YOUR CODE HERE&quot;\n\n\n', "scheme", "question-3 lang=sql-input"));
            </script>
        
            <div class="sol-highlight">
                <b>Solution</b>
                
<pre><code>SELECT name FROM records WHERE salary &gt; 50000 ORDER BY name;
</code></pre>


            </div>
        

<h3 id="q6-raises">Q6: Raises</h3>


<p>This last question refers to the following <strong>salaries</strong> table:
<p style="text-align: center;"><strong>salaries</strong></p></p>



        <div class="table-responsive">
          <table class="table table-bordered">
          
  <tr>
    <th><strong>name</strong></th>
    <th><strong>salary2022</strong></th>
    <th><strong>salary2023</strong></th>
  </tr>
  <tr>
    <td>Ben Bitdiddle</td>
    <td>60000</td>
    <td>80000</td>
  </tr>
  <tr>
    <td>Alyssa P Hacker</td>
    <td>40000</td>
    <td>80000</td>
  </tr>
  <tr>
    <td>Cy D Fect</td>
    <td>35000</td>
    <td>74000</td>
  </tr>
  <tr>
    <td>Lem E Tweakit</td>
    <td>25000</td>
    <td>28000</td>
  </tr>
  <tr>
    <td>Louis Reasoner</td>
    <td>30000</td>
    <td>30000</td>
  </tr>
  <tr>
    <td>Oliver Warbucks</td>
    <td>150000</td>
    <td>120000</td>
  </tr>
  <tr>
    <td>Eben Scrooge</td>
    <td>75000</td>
    <td>76000</td>
  </tr>
  <tr>
    <td>Robert Cratchet</td>
    <td>18000</td>
    <td>20000</td>
  </tr>
  <tr>
    <td>Lana Lambda</td>
    <td>610000</td>
    <td>610000</td>
  </tr>

          </table>
        </div>
        



<p>Write a query that outputs the names of the top 3 employees with the largest salary raises from 2022 to 2023 along with their corresponding salary raises, ordered from largest to smallest raise.</p>


            
            <b>Your Answer</b>
            
            <div class="monaco-storable" id="raises lang=sql-input" style="height:90px;"></div>
            <a href="javascript:void" id="modal-link-raises lang=sql-input">Run in 61A Code</a>
            <div class="modal fade" id="modal-raises lang=sql-input" tabindex="-1" role="dialog">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content" style="padding-bottom: -5px">
                    <iframe
                        id="code-iframe-raises lang=sql-input"
                        width="100%"
                        height="700px"
                        style="border: none; display:block;"
                    ></iframe>
                    </div>
                </div>
            </div>
            <div class="storable-status"></div>
            <script>
                $(() => activateEditor('SELECT &quot;YOUR CODE HERE&quot;\n\n\n', "scheme", "raises lang=sql-input"));
            </script>
        
            <div class="sol-highlight">
                <b>Solution</b>
                
<pre><code>SELECT name, salary2023 &#x2d; salary2022 FROM salaries ORDER BY salary2023 &#x2d; salary2022 DESC LIMIT 3;
</code></pre>


            </div>
        

<div class="page-break"></div>


<h1 id="additional-exam-practice-scheme-lists">Additional Exam Practice: Scheme Lists</h1>



<h3 id="q7-longest-increasing-subsequence">Q7: Longest increasing subsequence</h3>


<p>Write the procedure <code>longest&#x2d;increasing&#x2d;subsequence</code>, which takes in a list <code>lst</code> and returns the
longest subsequence in which all the terms are increasing. <em>Note: the elements do not have to appear
consecutively in the original list</em>. For example, the longest increasing subsequence of
<code>(1 2 3 4 9 3 4 1 10 5)</code> is <code>(1 2 3 4 9 10)</code>. Assume that the longest increasing subsequence is unique.</p>

<blockquote><p>Hint: The built-in procedures <code>length</code> (<a href="../../articles/scheme-builtins/index.html#length">documentation</a>) and <code>filter</code> (<a href="../../articles/scheme-builtins/index.html#filter">documentation</a>) might be helpful to solving this problem.</p></blockquote>


            
            <b>Your Answer</b>
            
            <div class="monaco-storable" id="longest-increasing-subsequence-input" style="height:594px;"></div>
            <a href="javascript:void" id="modal-link-longest-increasing-subsequence-input">Run in 61A Code</a>
            <div class="modal fade" id="modal-longest-increasing-subsequence-input" tabindex="-1" role="dialog">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content" style="padding-bottom: -5px">
                    <iframe
                        id="code-iframe-longest-increasing-subsequence-input"
                        width="100%"
                        height="700px"
                        style="border: none; display:block;"
                    ></iframe>
                    </div>
                </div>
            </div>
            <div class="storable-status"></div>
            <script>
                $(() => activateEditor('; helper function\n; returns the values of lst that are bigger than x\n; e.g., (larger&#x2d;values 3 &#x27;(1 2 3 4 5 1 2 3 4 5)) &#x2d;&#x2d;&gt; (4 5 4 5)\n(define (larger&#x2d;values x lst)\n    ______________________________________________)\n\n(define (longest&#x2d;increasing&#x2d;subsequence lst)\n    (if (null? lst)\n        nil\n        (begin\n            (define first (car lst))\n            (define rest (cdr lst))\n            (define large&#x2d;values&#x2d;rest\n                (larger&#x2d;values first rest))\n            (define with&#x2d;first\n                ______________________________________________)\n            (define without&#x2d;first\n                ______________________________________________)\n            (if ______________________________________________\n                with&#x2d;first\n                without&#x2d;first))))\n\n(expect (longest&#x2d;increasing&#x2d;subsequence &#x27;()) ())\n(expect (longest&#x2d;increasing&#x2d;subsequence &#x27;(1)) (1))\n(expect (longest&#x2d;increasing&#x2d;subsequence &#x27;(1 2 3)) (1 2 3))\n(expect (longest&#x2d;increasing&#x2d;subsequence &#x27;(1 9 2 3)) (1 2 3))\n(expect (longest&#x2d;increasing&#x2d;subsequence &#x27;(1 9 8 7 6 5 4 3 2 3)) (1 2 3))\n(expect (longest&#x2d;increasing&#x2d;subsequence &#x27;(1 9 8 7 2 3 6 5 4 5)) (1 2 3 4 5))\n(expect (longest&#x2d;increasing&#x2d;subsequence &#x27;(1 2 3 4 9 3 4 1 10 5)) (1 2 3 4 9 10))\n', "scheme", "longest-increasing-subsequence-input"));
            </script>
        
            <div class="sol-highlight">
                <b>Solution</b>
                
<pre><code>; helper function
; returns the values of lst that are bigger than x
; e.g., (larger&#x2d;values 3 &#x27;(1 2 3 4 5 1 2 3 4 5)) &#x2d;&#x2d;&gt; (4 5 4 5)
(define (larger&#x2d;values x lst)
    (filter (lambda (v) (&gt; v x)) lst))

(define (longest&#x2d;increasing&#x2d;subsequence lst)
    (if (null? lst)
        nil
        (begin
            (define first (car lst))
            (define rest (cdr lst))
            (define large&#x2d;values&#x2d;rest
                (larger&#x2d;values first rest))
            (define with&#x2d;first
                (cons
                    (car lst)
                    (longest&#x2d;increasing&#x2d;subsequence large&#x2d;values&#x2d;rest)))
            (define without&#x2d;first
                (longest&#x2d;increasing&#x2d;subsequence rest))
            (if (&gt; (length with&#x2d;first) (length without&#x2d;first))
                with&#x2d;first
                without&#x2d;first))))

(expect (longest&#x2d;increasing&#x2d;subsequence &#x27;()) ())
(expect (longest&#x2d;increasing&#x2d;subsequence &#x27;(1)) (1))
(expect (longest&#x2d;increasing&#x2d;subsequence &#x27;(1 2 3)) (1 2 3))
(expect (longest&#x2d;increasing&#x2d;subsequence &#x27;(1 9 2 3)) (1 2 3))
(expect (longest&#x2d;increasing&#x2d;subsequence &#x27;(1 9 8 7 6 5 4 3 2 3)) (1 2 3))
(expect (longest&#x2d;increasing&#x2d;subsequence &#x27;(1 9 8 7 2 3 6 5 4 5)) (1 2 3 4 5))
(expect (longest&#x2d;increasing&#x2d;subsequence &#x27;(1 2 3 4 9 3 4 1 10 5)) (1 2 3 4 9 10))</code></pre>

            </div>
        

  </div>

  <div class='col-md-3 sticky'>
    <nav class='hidden-print hidden-sm hidden-xs sidebar'>
      <ul>
  <li><a href="index.html#interpreters">Interpreters</a></li>
  <ul>
    <li><a href="index.html#q1-counting-eval-and-apply">Q1: Counting Eval and Apply</a></li>
    <li><a href="index.html#q2-from-pair-to-calculator">Q2: From Pair to Calculator</a></li>
  </ul>
  <li><a href="index.html#sql">SQL</a></li>
  <ul>
    <li><a href="index.html#sql-practice">SQL Practice</a></li>
    <ul>
      <li><a href="index.html#q3-oliver-employees">Q3: Oliver Employees</a></li>
      <li><a href="index.html#q4-self-supervisor">Q4: Self Supervisor</a></li>
      <li><a href="index.html#q5-rich-employees">Q5: Rich Employees</a></li>
      <li><a href="index.html#q6-raises">Q6: Raises</a></li>
    </ul>
  </ul>
  <li><a href="index.html#additional-exam-practice-scheme-lists">Additional Exam Practice: Scheme Lists</a></li>
  <ul>
    <li><a href="index.html#q7-longest-increasing-subsequence">Q7: Longest increasing subsequence</a></li>
  </ul>
</ul>
    </nav>
  </div>
</div>

    </main>

    <footer class="container">
      <div class="row text-center">
        <div class="col col-sm-4">
          <h3><a href="../../index.html">CS 61A</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="../../weekly.html">Weekly Schedule</a></li>
            <li><a href="../../office-hours.html">Office Hours</a></li>
            <li><a href="../../staff.html">Staff</a></li>
          </ul>
        </div>
        <div class="col col-sm-4">
          <h3><a href="../../resources.1.html">Resources</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="../../articles/studying.html">Studying Guide</a></li>
            <li><a href="../../articles/debugging.html">Debugging Guide</a></li>
            <li><a href="../../articles/composition.html">Composition Guide</a></li>
            <li><a href="../../articles/pair-programming.html">Pair Programming</a></li>
          </ul>
        </div>
        <div class="col col-sm-4">
          <h3><a href="../../articles/about.html">Policies</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="../../articles/about.html#assignments">Assignments</a></li>
            <li><a href="../../articles/about.html#exams">Exams</a></li>
            <li><a href="../../articles/about.html#grading">Grading</a></li>
          </ul>
        </div>
      </div>
    </footer>

    

    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs/loader.min.js"></script>
  <link rel="stylesheet" data-name="vs/editor/editor.main" href="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs/editor/editor.main.min.css">
  <script>
      require.config({ paths: { 'vs': 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs' }});
      window.MonacoEnvironment = { getWorkerUrl: () => URL.createObjectURL(new Blob([`
      self.MonacoEnvironment = {
          baseUrl: 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min'
      };
      importScripts('https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs/base/worker/workerMain.min.js');
  `], { type: 'text/javascript' }))
  };
  </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsPlumb/2.15.5/js/jsplumb.min.js"></script>
    <script src="../../assets/js/network_storage.js"></script>
    <script src="../../assets/js/storable.js"></script>
    <script src="../../assets/js/editor.js"></script>
    <script src="../../assets/js/copy-button.js"></script>
    <script src="../../assets/js/env-diagram.js"></script>
    
<script src="../../assets/js/sketchy.js"></script>
<script>
  $('.sidebar ul').addClass('nav nav-stacked noselect');
  $('body').scrollspy({
    target: '.sidebar',
    offset: 40
  });

  function goToId(id) {
    var target = $(id);
    target.parent().show();
    $('html,body').animate({
      scrollTop: target.offset().top,
    }, 100);
    $("body").scrollspy('refresh');
  }

  if (location.hash) {
    setTimeout(function() {
      if (location.hash) {
        goToId(location.hash);
      }
    }, 1);
  }

  $("a").click(function(event) {
    var urlBeforeHashRegEx = new RegExp("^"+window.location.href.split("#")[0]);
    if (/^#/.test(this.hash) && urlBeforeHashRegEx.test(this.href)) {
      event.preventDefault();
      goToId(this.hash);
      document.location.hash = this.hash;
    }
  });
</script>

  </body>
</html>